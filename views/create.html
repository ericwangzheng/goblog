{{template "header.html" .}}
<form id="Article" action="" method="post">
    {{.xsrf}}
    <div class="form-group">
        <label for="exampleInputuname">Title</label>
        <input type="text" class="form-control" id="exampleInputuname" name="Title" value="{{.article.Title}}" required>
    </div>
    <div class="form-group">
        <label for="mytextarea">Content</label>
        <textarea class="form-control" rows="20" id="mytextarea" name="Content" required>{{.article.Content}}</textarea>
    </div>
    <div class="form-group">
        {{if .article.Tags}}
        {{range $taghave := .article.Tags}}
        <label for="{{$taghave.Name}}" class="checkbox-inline">
            <input type="checkbox" id="{{$taghave.Name}}" value="{{$taghave.Name}}" name="tags" checked>{{$taghave.Name}}
        </label>
        {{end}}
        {{end}}

        {{range $tagnothave := .tagsnothave}}
        <label for="{{$tagnothave.Name}}" class="checkbox-inline">
            <input type="checkbox" id="{{$tagnothave.Name}}" value="{{$tagnothave.Name}}" name="tags">{{$tagnothave.Name}}
        </label>
        {{end}}
    </div>
    <div class="form-group">
        <label for="tags">或添加新标签 , 多个之间用竖线(|)隔开</label>
        <input type="text" class="form-control" id="tags" name="newtags">
    </div>
    <button type="submit" class="btn btn-default">提交</button>
</form>
<script type="text/javascript" src="/static/js/wangEditor.min.js"></script>
<script src="/static/js/js.cookie-2.1.2.min.js"></script>
<script type="text/javascript">
    xsrf = Cookies.get('uname')
    var editor = new wangEditor('mytextarea');
    editor.config.uploadImgUrl = '/admin/edit/upload';
    editor.config.uploadImgFileName = 'uploadimg'
    editor.config.uploadParams = {
        _xsrf: '{{.xsrf_token}}'
    };
    editor.create();
</script>
{{template "footer.html" .}}